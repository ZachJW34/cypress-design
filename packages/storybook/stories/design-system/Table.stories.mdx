import { Meta, Preview, Props, Story } from '@storybook/addon-docs/blocks'
import faker from 'faker'
import { orderBy, range } from 'lodash'

import { Button, Table } from '@frontend/design-system'
import { storiesOf } from '@storybook/react'
import { withReadme } from 'storybook-readme'

# Table

Tables are used to present (surprise-surprise) tabular data! Here's a list of rules to follow when building tables. In no particular order:

1. The rows should be sorted by the most-expected attribute by default.
1. Right-align numeric values.
1. If the table has row-actions, they should be in the last column and right-aligned.

export const TABLE_DATA = orderBy(
  range(10).map((id) => {
    return {
      id,
      name: faker.name.findName(),
      email: faker.internet.email(),
      score: faker.random.number(50000),
    }
  }),
  'score',
  'desc'
)

export const formatter = new Intl.NumberFormat('en-US')

<Meta title="Design system/Table" component={Table} />

## Basic

<Preview>
  <Story name="Basic">
    <Table style={{ margin: '16px', width: 'calc(100vw - 32px)' }}>
      <thead>
        <tr>
          <th style={{ width: 1 }}>&nbsp;</th>
          <th>Name</th>
          <th>Email</th>
          <th className="text-right">Score</th>
          <th className="text-right">Actions</th>
        </tr>
      </thead>
      <tbody>
        {TABLE_DATA.map((datum) => {
          return (
            <tr key={datum.id}>
              <td>
                <input type="checkbox" />
              </td>
              <td>{datum.name}</td>
              <td>{datum.email}</td>
              <td className="text-right">{formatter.format(datum.score)}</td>
              <td className="text-right">
                <Button bsSize="xs">Vote</Button>{' '}
                <Button bsSize="xs">Remove</Button>
              </td>
            </tr>
          )
        })}
      </tbody>
    </Table>
  </Story>
</Preview>

# Props

<Props of={Table} />
